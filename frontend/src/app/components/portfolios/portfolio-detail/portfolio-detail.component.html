<div class="portfolio-detail-container">
  <div *ngIf="loading" class="loading-spinner">
    <mat-spinner></mat-spinner>
  </div>

  <div *ngIf="!loading && portfolio" class="portfolio-content">
    <div class="header">
      <div class="title-section">
        <h1>{{ portfolio.name }}</h1>
        <p *ngIf="portfolio.description" class="description">{{ portfolio.description }}</p>
      </div>
      <div class="action-buttons">
        <button mat-raised-button color="primary" (click)="openBuyDialog()">
          <mat-icon>add_shopping_cart</mat-icon>
          Buy Asset
        </button>
        
        <button mat-raised-button [routerLink]="['/portfolios', portfolio.id, 'edit']">
          <mat-icon>edit</mat-icon>
          Edit
        </button>
      </div>
    </div>

    <mat-tab-group>
      <mat-tab label="Positions">
        <div class="tab-content">
          <div *ngIf="positions.length === 0" class="empty-state">
            <mat-icon>pie_chart</mat-icon>
            <h3>No positions yet</h3>
            <p>Start trading to see your positions here</p>  
            <button mat-raised-button color="accent" (click)="openBuyDialog()">
              <mat-icon>add_shopping_cart</mat-icon>
              Buy First Asset
            </button>
          </div>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>